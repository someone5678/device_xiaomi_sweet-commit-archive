From 5edb8a135863d5ce3b9bc443fab293cb883e2486 Mon Sep 17 00:00:00 2001
From: someone5678 <nemui3353@gmail.com>
Date: Sat, 18 Dec 2021 21:35:16 +0900
Subject: [PATCH] build_make-post_process_props

Change-Id: If0aea25c2ec4ebfbd23ccca0411a01084793f452
---
 tools/post_process_props.py | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

diff --git a/tools/post_process_props.py b/tools/post_process_props.py
index 698431e..efbf614 100755
--- a/tools/post_process_props.py
+++ b/tools/post_process_props.py
@@ -28,9 +28,9 @@ PROP_VALUE_MAX = 91
 # Put the modifications that you need to make into the */build.prop into this
 # function.
 def mangle_build_prop(prop_list):
-  # If ro.adb.secure is not 1, then enable adb on USB by default
-  # (this is for eng builds)
-  if prop_list.get_value("ro.adb.secure") != "1":
+  # If ro.debuggable is 1, then enable adb on USB by default
+  # (this is for userdebug builds)
+  if prop_list.get_value("ro.debuggable") == "1":
     val = prop_list.get_value("persist.sys.usb.config")
     if "adb" not in val:
       if val == "":
-- 
2.32.0

